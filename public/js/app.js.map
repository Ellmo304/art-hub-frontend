{"version":3,"sources":["js/app.js","js/controllers/auth.js","js/models/comment.js","js/controllers/comments.js","js/models/exhibition.js","js/controllers/exhibitions.js","js/controllers/galleries.js","js/models/gallery.js","js/controllers/main.js","js/models/review.js","js/controllers/reviews.js","js/router.js","js/models/user.js","js/controllers/users.js"],"names":["Auth","$authProvider","API_URL","loginUrl","signupUrl","tokenPrefix","RegisterController","$auth","$state","submit","signup","register","user","then","go","this","LoginController","login","credentials","Comment","$resource","id","update","method","CommentsNewController","Exhibition","createComment","save","commentsNew","comment","user_id","getPayload","exhibition_id","params","exhibitionsAll","query","create","CommentsIndexController","commentsIndex","all","CommentsShowController","deleteComment","commentsShow","$remove","get","CommentsEditController","commentsEdit","$update","ExhibitionsNewController","Gallery","createExhibition","console","log","exhibitionsNew","exhibition","galleriesAll","ExhibitionsIndexController","exhibitionsIndex","ExhibitionsShowController","deleteExhibition","exhibitionsShow","ExhibitionsEditController","exhibitionsEdit","GalleriesNewController","createGallery","galleriesNew","gallery","GalleriesIndexController","galleriesIndex","GalleriesShowController","deleteGallery","galleriesShow","GalleriesEditController","galleriesEdit","MainController","$rootScope","logout","protectStates","e","toState","payload","main","isCurrentUser","isAuthenticated","protectedStates","includes","name","preventDefault","isLoggedIn","message","$on","Review","ReviewsNewController","createReview","reviewsNew","review","ReviewsIndexController","reviewsIndex","ReviewsShowController","deleteReview","reviewsShow","ReviewsEditController","reviewsEdit","Router","$stateProvider","$urlRouterProvider","state","url","templateUrl","controller","otherwise","User","UsersIndexController","usersIndex","UsersShowController","deleteUser","usersShow","Number","UsersEditController","usersEdit","currentUser","angular","module","constant","config","$inject","factory"],"mappings":"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","file":"app.js","sourcesContent":["angular.module('artHub', ['ngResource', 'ui.router', 'satellizer'])\n.constant('API_URL', 'http://localhost:3000/api')\n.config(Auth);\n\nAuth.$inject = [ '$authProvider', 'API_URL'];\nfunction Auth($authProvider, API_URL) {\n  $authProvider.loginUrl = `${API_URL}/login`;\n  $authProvider.signupUrl = `${API_URL}/register`;\n\n  $authProvider.tokenPrefix = '';\n}\n","angular.module('artHub')\n  .controller('RegisterController', RegisterController)\n  .controller('LoginController', LoginController);\n\nRegisterController.$inject = ['$auth', '$state'];\nfunction RegisterController($auth, $state) {\n  const register = this;\n\n  register.user = {};\n\n  function submit() {\n    $auth.signup(register.user)\n      .then(() => {\n        $state.go('login');\n      });\n  }\n\n  register.submit = submit;\n}\n\nLoginController.$inject = ['$auth', '$state'];\nfunction LoginController($auth, $state) {\n  const login = this;\n\n  login.credentials = {};\n\n  function submit() {\n    $auth.login(login.credentials)\n      .then(() => {\n        $state.go('usersIndex');\n      });\n  }\n\n  login.submit = submit;\n}\n","angular.module('artHub')\n.factory('Comment', Comment);\n\nComment.$inject = ['$resource', 'API_URL'];\nfunction Comment($resource, API_URL) {\n  return new $resource(`${API_URL}/comments/:id`, { id: '@id' }, {\n    update: { method: 'PUT' }\n  });\n}\n","angular.module('artHub')\n.controller('CommentsNewController', CommentsNewController)\n.controller('CommentsIndexController', CommentsIndexController)\n.controller('CommentsShowController', CommentsShowController)\n.controller('CommentsEditController', CommentsEditController);\n\n\nCommentsNewController.$inject = ['Comment', 'Exhibition', '$state', '$auth'];\nfunction CommentsNewController(Comment, Exhibition, $state, $auth) {\n  const commentsNew = this;\n  commentsNew.comment = {};\n  commentsNew.comment.user_id = $auth.getPayload().id;\n  commentsNew.comment.exhibition_id = $state.params.id;\n  commentsNew.exhibitionsAll = Exhibition.query();\n\n  function createComment() {\n    Comment.save(commentsNew.comment, () => {\n      $state.go('commentsIndex');\n    });\n  }\n  commentsNew.create = createComment;\n}\n\nCommentsIndexController.$inject = ['Comment'];\nfunction CommentsIndexController(Comment) {\n  const commentsIndex = this;\n  commentsIndex.all = Comment.query();\n}\n\nCommentsShowController.$inject = ['Comment', '$state', '$auth'];\nfunction CommentsShowController(Comment, $state, $auth) {\n  const commentsShow = this;\n\n  commentsShow.comment = Comment.get($state.params);\n\n  function deleteComment() {\n    commentsShow.comment.$remove(() => {\n      $state.go('commentsIndex');\n    });\n  }\n  commentsShow.deleteComment = deleteComment;\n}\n\n\nCommentsEditController.$inject = ['Comment', 'Exhibition', '$state', '$auth'];\nfunction CommentsEditController(Comment, Exhibition, $state, $auth) {\n  const commentsEdit = this;\n  commentsEdit.comment = Comment.get($state.params);\n  // commentsEdit.comment.user_id = $auth.getPayload().id;\n  // commentsEdit.comment.exhibition_id = $state.params.id;\n  commentsEdit.exhibitionsAll = Exhibition.query();\n\n  // Comment.get($state.params, (currentComment) => {\n  //   commentsEdit.comment = currentComment;\n  //   if(commentsEdit.comment.id !== $auth.getPayload().id) {\n  //     $state.go('login');\n  //   }\n  // });\n\n\n  function update() {\n    commentsEdit.comment.$update(() => {\n      $state.go('commentsShow', $state.params);\n    });\n  }\n  commentsEdit.update = update;\n}\n","angular.module('artHub')\n.factory('Exhibition', Exhibition);\n\nExhibition.$inject = ['$resource', 'API_URL'];\nfunction Exhibition($resource, API_URL) {\n  return new $resource(`${API_URL}/exhibitions/:id`, { id: '@id' }, {\n    update: { method: 'PUT' }\n  });\n}\n","angular.module('artHub')\n.controller('ExhibitionsNewController', ExhibitionsNewController)\n.controller('ExhibitionsIndexController', ExhibitionsIndexController)\n.controller('ExhibitionsShowController', ExhibitionsShowController)\n.controller('ExhibitionsEditController', ExhibitionsEditController);\n\n\nExhibitionsNewController.$inject = ['Exhibition', 'Gallery', '$state'];\nfunction ExhibitionsNewController(Exhibition, Gallery, $state) {\n  const exhibitionsNew = this;\n  exhibitionsNew.exhibition = {};\n\n  exhibitionsNew.galleriesAll = Gallery.query();\n\n  function createExhibition() {\n    console.log(exhibitionsNew.exhibition);\n    Exhibition.save(exhibitionsNew.exhibition, () => {\n      $state.go('exhibitionsIndex');\n    });\n  }\n  exhibitionsNew.create = createExhibition;\n}\n\nExhibitionsIndexController.$inject = ['Exhibition'];\nfunction ExhibitionsIndexController(Exhibition) {\n  const exhibitionsIndex = this;\n  exhibitionsIndex.all = Exhibition.query();\n}\n\nExhibitionsShowController.$inject = ['Exhibition', '$state', '$auth'];\nfunction ExhibitionsShowController(Exhibition, $state, $auth) {\n  const exhibitionsShow = this;\n\n  exhibitionsShow.exhibition = Exhibition.get($state.params);\n\n  function deleteExhibition() {\n    exhibitionsShow.exhibition.$remove(() => {\n      $state.go('exhibitionsIndex');\n    });\n  }\n  exhibitionsShow.deleteExhibition = deleteExhibition;\n}\n\n\nExhibitionsEditController.$inject = ['Exhibition', 'Gallery', '$state', '$auth'];\nfunction ExhibitionsEditController(Exhibition, Gallery, $state, $auth) {\n  const exhibitionsEdit = this;\n  exhibitionsEdit.exhibition = Exhibition.get($state.params);\n\n  exhibitionsEdit.galleriesAll = Gallery.query();\n  // Exhibition.get($state.params, (currentExhibition) => {\n  //   exhibitionsEdit.exhibition = currentExhibition;\n  //   if(exhibitionsEdit.exhibition.id !== $auth.getPayload().id) {\n  //     $state.go('login');\n  //   }\n  // });\n\n\n  function update() {\n    exhibitionsEdit.exhibition.$update(() => {\n      $state.go('exhibitionsShow', $state.params);\n    });\n  }\n  exhibitionsEdit.update = update;\n}\n","angular.module('artHub')\n.controller('GalleriesNewController', GalleriesNewController)\n.controller('GalleriesIndexController', GalleriesIndexController)\n.controller('GalleriesShowController', GalleriesShowController)\n.controller('GalleriesEditController', GalleriesEditController);\n\n\nGalleriesNewController.$inject = ['Gallery', '$state'];\nfunction GalleriesNewController(Gallery, $state) {\n  const galleriesNew = this;\n  galleriesNew.gallery = {};\n\n  function createGallery() {\n    Gallery.save(galleriesNew.gallery, () => {\n      $state.go('galleriesIndex');\n    });\n  }\n  galleriesNew.create = createGallery;\n}\n\nGalleriesIndexController.$inject = ['Gallery'];\nfunction GalleriesIndexController(Gallery) {\n  const galleriesIndex = this;\n  galleriesIndex.all = Gallery.query();\n}\n\nGalleriesShowController.$inject = ['Gallery', '$state', '$auth'];\nfunction GalleriesShowController(Gallery, $state, $auth) {\n  const galleriesShow = this;\n\n  galleriesShow.gallery = Gallery.get($state.params);\n\n  function deleteGallery() {\n    galleriesShow.gallery.$remove(() => {\n      $state.go('galleriesIndex');\n    });\n  }\n  galleriesShow.deleteGallery = deleteGallery;\n}\n\n\nGalleriesEditController.$inject = ['Gallery', '$state', '$auth'];\nfunction GalleriesEditController(Gallery, $state, $auth) {\n  const galleriesEdit = this;\n  galleriesEdit.gallery = Gallery.get($state.params);\n  // Gallery.get($state.params, (currentGallery) => {\n  //   galleriesEdit.gallery = currentGallery;\n  //   if(galleriesEdit.gallery.id !== $auth.getPayload().id) {\n  //     $state.go('login');\n  //   }\n  // });\n\n\n  function update() {\n    galleriesEdit.gallery.$update(() => {\n      $state.go('galleriesShow', $state.params);\n    });\n  }\n  galleriesEdit.update = update;\n}\n","angular.module('artHub')\n.factory('Gallery', Gallery);\n\nGallery.$inject = ['$resource', 'API_URL'];\nfunction Gallery($resource, API_URL) {\n  return new $resource(`${API_URL}/galleries/:id`, { id: '@id' }, {\n    update: { method: 'PUT' }\n  });\n}\n","angular.module('artHub')\n.controller('MainController', MainController);\n\nMainController.$inject = ['$auth', '$state', '$rootScope'];\nfunction MainController($auth, $state, $rootScope) {\n  const main = this;\n\n  main.isLoggedIn = $auth.isAuthenticated;\n  main.message = null;\n\n\n  function logout() {\n    $auth.logout()\n    .then(() => {\n      $state.go('usersIndex');\n    });\n  }\n\n  const protectedStates = ['usersEdit'];\n\n  function protectStates(e, toState) {\n    const payload = $auth.getPayload();\n    if(payload) {\n      main.isCurrentUser = $auth.getPayload().id;\n    }\n    if(!$auth.isAuthenticated() && protectedStates.includes(toState.name)) {\n      e.preventDefault();\n      $state.go('login');\n    }\n  }\n\n  $rootScope.$on('$stateChangeStart', protectStates);\n\n  main.logout = logout;\n}\n","angular.module('artHub')\n.factory('Review', Review);\n\nReview.$inject = ['$resource', 'API_URL'];\nfunction Review($resource, API_URL) {\n  return new $resource(`${API_URL}/reviews/:id`, { id: '@id' }, {\n    update: { method: 'PUT' }\n  });\n}\n","angular.module('artHub')\n.controller('ReviewsNewController', ReviewsNewController)\n.controller('ReviewsIndexController', ReviewsIndexController)\n.controller('ReviewsShowController', ReviewsShowController)\n.controller('ReviewsEditController', ReviewsEditController);\n\n\nReviewsNewController.$inject = ['Review', 'Exhibition', '$state', '$auth'];\nfunction ReviewsNewController(Review, Exhibition, $state, $auth) {\n  const reviewsNew = this;\n  reviewsNew.review = {};\n  reviewsNew.review.user_id = $auth.getPayload().id;\n  reviewsNew.review.exhibition_id = $state.params.id;\n  reviewsNew.exhibitionsAll = Exhibition.query();\n\n  function createReview() {\n    Review.save(reviewsNew.review, () => {\n      $state.go('reviewsIndex');\n    });\n  }\n  reviewsNew.create = createReview;\n}\n\nReviewsIndexController.$inject = ['Review'];\nfunction ReviewsIndexController(Review) {\n  const reviewsIndex = this;\n  reviewsIndex.all = Review.query();\n}\n\nReviewsShowController.$inject = ['Review', '$state', '$auth'];\nfunction ReviewsShowController(Review, $state, $auth) {\n  const reviewsShow = this;\n\n  reviewsShow.review = Review.get($state.params);\n\n  function deleteReview() {\n    reviewsShow.review.$remove(() => {\n      $state.go('reviewsIndex');\n    });\n  }\n  reviewsShow.deleteReview = deleteReview;\n}\n\n\nReviewsEditController.$inject = ['Review', 'Exhibition', '$state', '$auth'];\nfunction ReviewsEditController(Review, Exhibition, $state, $auth) {\n  const reviewsEdit = this;\n  reviewsEdit.review = Review.get($state.params);\n  // reviewsEdit.review.user_id = $auth.getPayload().id;\n  // reviewsEdit.review.exhibition_id = $state.params.id;\n  reviewsEdit.exhibitionsAll = Exhibition.query();\n\n  // Review.get($state.params, (currentReview) => {\n  //   reviewsEdit.review = currentReview;\n  //   if(reviewsEdit.review.id !== $auth.getPayload().id) {\n  //     $state.go('login');\n  //   }\n  // });\n\n\n  function update() {\n    reviewsEdit.review.$update(() => {\n      $state.go('reviewsShow', $state.params);\n    });\n  }\n  reviewsEdit.update = update;\n}\n","angular.module('artHub')\n.config(Router);\n\nRouter.$inject = ['$stateProvider', '$urlRouterProvider'];\nfunction Router($stateProvider, $urlRouterProvider) {\n  $stateProvider\n  .state('home', {\n    url: '/',\n    templateUrl: '/templates/home.html'\n  })\n  .state('usersIndex', {\n    url: '/users',\n    templateUrl: '/templates/users/usersIndex.html',\n    controller: 'UsersIndexController as usersIndex'\n  })\n  .state('usersShow', {\n    url: '/users/:id',\n    templateUrl: '/templates/users/usersShow.html',\n    controller: 'UsersShowController as usersShow'\n  })\n  .state('usersEdit', {\n    url: '/users/:id/edit',\n    templateUrl: '/templates/users/usersEdit.html',\n    controller: 'UsersEditController as usersEdit'\n  })\n  .state('galleriesNew', {\n    url: '/galleries/new',\n    templateUrl: '/templates/galleries/galleriesNew.html',\n    controller: 'GalleriesNewController as galleriesNew'\n  })\n  .state('galleriesIndex', {\n    url: '/galleries',\n    templateUrl: '/templates/galleries/galleriesIndex.html',\n    controller: 'GalleriesIndexController as galleriesIndex'\n  })\n  .state('galleriesShow', {\n    url: '/galleries/:id',\n    templateUrl: '/templates/galleries/galleriesShow.html',\n    controller: 'GalleriesShowController as galleriesShow'\n  })\n  .state('galleriesEdit', {\n    url: '/galleries/:id/edit',\n    templateUrl: '/templates/galleries/galleriesEdit.html',\n    controller: 'GalleriesEditController as galleriesEdit'\n  })\n  .state('exhibitionsNew', {\n    url: '/exhibitions/new',\n    templateUrl: '/templates/exhibitions/exhibitionsNew.html',\n    controller: 'ExhibitionsNewController as exhibitionsNew'\n  })\n  .state('exhibitionsIndex', {\n    url: '/exhibitions',\n    templateUrl: '/templates/exhibitions/exhibitionsIndex.html',\n    controller: 'ExhibitionsIndexController as exhibitionsIndex'\n  })\n  .state('exhibitionsShow', {\n    url: '/exhibitions/:id',\n    templateUrl: '/templates/exhibitions/exhibitionsShow.html'\n  })\n  .state('exhibitionsEdit', {\n    url: '/exhibitions/:id/edit',\n    templateUrl: '/templates/exhibitions/exhibitionsEdit.html',\n    controller: 'ExhibitionsEditController as exhibitionsEdit'\n  })\n  .state('reviewsNew', {\n    url: '/reviews/new',\n    templateUrl: '/templates/reviews/reviewsNew.html',\n    controller: 'ReviewsNewController as reviewsNew'\n  })\n  .state('reviewsIndex', {\n    url: '/reviews',\n    templateUrl: '/templates/reviews/reviewsIndex.html',\n    controller: 'ReviewsIndexController as reviewsIndex'\n  })\n  .state('reviewsShow', {\n    url: '/reviews/:id',\n    templateUrl: '/templates/reviews/reviewsShow.html'\n    // controller: 'ReviewsShowController as reviewsShow'\n  })\n  .state('reviewsEdit', {\n    url: '/reviews/:id/edit',\n    templateUrl: '/templates/reviews/reviewsEdit.html',\n    controller: 'ReviewsEditController as reviewsEdit'\n  })\n  .state('register', {\n    url: '/register',\n    templateUrl: '/templates/register.html',\n    controller: 'RegisterController as register'\n  })\n  .state('login', {\n    url: '/login',\n    templateUrl: 'templates/login.html',\n    controller: 'LoginController as login'\n  });\n\n  $urlRouterProvider.otherwise('/');\n}\n","angular.module('artHub')\n.factory('User', User);\n\nUser.$inject = ['$resource', 'API_URL'];\nfunction User($resource, API_URL) {\n  return new $resource(`${API_URL}/users/:id`, { id: '@id' }, {\n    update: { method: 'PUT' }\n  });\n}\n","angular.module('artHub')\n.controller('UsersIndexController', UsersIndexController)\n.controller('UsersShowController', UsersShowController)\n.controller('UsersEditController', UsersEditController);\n\n\nUsersIndexController.$inject = ['User'];\nfunction UsersIndexController(User) {\n  const usersIndex = this;\n  usersIndex.all = User.query();\n}\n\n\nUsersShowController.$inject = ['User', '$state', '$auth'];\nfunction UsersShowController(User, $state, $auth) {\n  const usersShow = this;\n  usersShow.isLoggedIn = $auth.isAuthenticated;\n  usersShow.user = User.get($state.params);\n\n  function deleteUser() {\n    usersShow.user.$remove(() => {\n      $state.go('usersIndex');\n    });\n  }\n\n  function isCurrentUser() {\n    return $auth.getPayload().id === Number($state.params.id);\n  }\n\n  usersShow.isCurrentUser = isCurrentUser;\n  usersShow.deleteUser = deleteUser;\n}\n\n\nUsersEditController.$inject = ['User', '$state', '$auth'];\nfunction UsersEditController(User, $state, $auth) {\n  const usersEdit = this;\n  usersEdit.user = User.get($state.params);\n  User.get($state.params, (currentUser) => {\n    usersEdit.user = currentUser;\n    if(usersEdit.user.id !== $auth.getPayload().id) {\n      $state.go('login');\n    }\n  });\n\n\n  function update() {\n    usersEdit.user.$update(() => {\n      $state.go('usersShow', $state.params);\n    });\n  }\n  usersEdit.update = update;\n}\n"]}
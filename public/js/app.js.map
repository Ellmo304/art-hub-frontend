{"version":3,"sources":["js/app.js","js/controllers/auth.js","js/models/exhibition.js","js/controllers/exhibitions.js","js/controllers/galleries.js","js/models/gallery.js","js/controllers/main.js","js/models/review.js","js/controllers/reviews.js","js/router.js","js/models/user.js","js/controllers/users.js"],"names":["Auth","$authProvider","API_URL","loginUrl","signupUrl","tokenPrefix","RegisterController","$auth","$state","submit","signup","register","user","then","go","this","LoginController","login","credentials","Exhibition","$resource","id","update","method","ExhibitionsNewController","Gallery","createExhibition","console","log","exhibitionsNew","exhibition","save","galleriesAll","query","create","ExhibitionsIndexController","exhibitionsIndex","all","ExhibitionsShowController","deleteExhibition","exhibitionsShow","$remove","get","params","ExhibitionsEditController","exhibitionsEdit","$update","GalleriesNewController","createGallery","galleriesNew","gallery","GalleriesIndexController","galleriesIndex","GalleriesShowController","deleteGallery","galleriesShow","GalleriesEditController","galleriesEdit","MainController","$rootScope","logout","protectStates","e","toState","payload","getPayload","main","isCurrentUser","isAuthenticated","protectedStates","includes","name","preventDefault","isLoggedIn","message","$on","Review","ReviewsNewController","createReview","reviewsNew","review","user_id","exhibition_id","exhibitionsAll","ReviewsIndexController","reviewsIndex","ReviewsShowController","deleteReview","reviewsShow","ReviewsEditController","reviewsEdit","Router","$stateProvider","$urlRouterProvider","state","url","templateUrl","controller","otherwise","User","UsersIndexController","usersIndex","UsersShowController","deleteUser","usersShow","Number","UsersEditController","usersEdit","currentUser","angular","module","constant","config","$inject","factory"],"mappings":"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","file":"app.js","sourcesContent":["angular.module('artHub', ['ngResource', 'ui.router', 'satellizer'])\n.constant('API_URL', 'http://localhost:3000/api')\n.config(Auth);\n\nAuth.$inject = [ '$authProvider', 'API_URL'];\nfunction Auth($authProvider, API_URL) {\n  $authProvider.loginUrl = `${API_URL}/login`;\n  $authProvider.signupUrl = `${API_URL}/register`;\n\n  $authProvider.tokenPrefix = '';\n}\n","angular.module('artHub')\n  .controller('RegisterController', RegisterController)\n  .controller('LoginController', LoginController);\n\nRegisterController.$inject = ['$auth', '$state'];\nfunction RegisterController($auth, $state) {\n  const register = this;\n\n  register.user = {};\n\n  function submit() {\n    $auth.signup(register.user)\n      .then(() => {\n        $state.go('login');\n      });\n  }\n\n  register.submit = submit;\n}\n\nLoginController.$inject = ['$auth', '$state'];\nfunction LoginController($auth, $state) {\n  const login = this;\n\n  login.credentials = {};\n\n  function submit() {\n    $auth.login(login.credentials)\n      .then(() => {\n        $state.go('usersIndex');\n      });\n  }\n\n  login.submit = submit;\n}\n","angular.module('artHub')\n.factory('Exhibition', Exhibition);\n\nExhibition.$inject = ['$resource', 'API_URL'];\nfunction Exhibition($resource, API_URL) {\n  return new $resource(`${API_URL}/exhibitions/:id`, { id: '@id' }, {\n    update: { method: 'PUT' }\n  });\n}\n","angular.module('artHub')\n.controller('ExhibitionsNewController', ExhibitionsNewController)\n.controller('ExhibitionsIndexController', ExhibitionsIndexController)\n.controller('ExhibitionsShowController', ExhibitionsShowController)\n.controller('ExhibitionsEditController', ExhibitionsEditController);\n\n\nExhibitionsNewController.$inject = ['Exhibition', 'Gallery', '$state'];\nfunction ExhibitionsNewController(Exhibition, Gallery, $state) {\n  const exhibitionsNew = this;\n  exhibitionsNew.exhibition = {};\n\n  exhibitionsNew.galleriesAll = Gallery.query();\n\n  function createExhibition() {\n    console.log(exhibitionsNew.exhibition);\n    Exhibition.save(exhibitionsNew.exhibition, () => {\n      $state.go('exhibitionsIndex');\n    });\n  }\n  exhibitionsNew.create = createExhibition;\n}\n\nExhibitionsIndexController.$inject = ['Exhibition'];\nfunction ExhibitionsIndexController(Exhibition) {\n  const exhibitionsIndex = this;\n  exhibitionsIndex.all = Exhibition.query();\n}\n\nExhibitionsShowController.$inject = ['Exhibition', '$state', '$auth'];\nfunction ExhibitionsShowController(Exhibition, $state, $auth) {\n  const exhibitionsShow = this;\n\n  exhibitionsShow.exhibition = Exhibition.get($state.params);\n\n  function deleteExhibition() {\n    exhibitionsShow.exhibition.$remove(() => {\n      $state.go('exhibitionsIndex');\n    });\n  }\n  exhibitionsShow.deleteExhibition = deleteExhibition;\n}\n\n\nExhibitionsEditController.$inject = ['Exhibition', 'Gallery', '$state', '$auth'];\nfunction ExhibitionsEditController(Exhibition, Gallery, $state, $auth) {\n  const exhibitionsEdit = this;\n  exhibitionsEdit.exhibition = Exhibition.get($state.params);\n\n  exhibitionsEdit.galleriesAll = Gallery.query();\n  // Exhibition.get($state.params, (currentExhibition) => {\n  //   exhibitionsEdit.exhibition = currentExhibition;\n  //   if(exhibitionsEdit.exhibition.id !== $auth.getPayload().id) {\n  //     $state.go('login');\n  //   }\n  // });\n\n\n  function update() {\n    exhibitionsEdit.exhibition.$update(() => {\n      $state.go('exhibitionsShow', $state.params);\n    });\n  }\n  exhibitionsEdit.update = update;\n}\n","angular.module('artHub')\n.controller('GalleriesNewController', GalleriesNewController)\n.controller('GalleriesIndexController', GalleriesIndexController)\n.controller('GalleriesShowController', GalleriesShowController)\n.controller('GalleriesEditController', GalleriesEditController);\n\n\nGalleriesNewController.$inject = ['Gallery', '$state'];\nfunction GalleriesNewController(Gallery, $state) {\n  const galleriesNew = this;\n  galleriesNew.gallery = {};\n\n  function createGallery() {\n    Gallery.save(galleriesNew.gallery, () => {\n      $state.go('galleriesIndex');\n    });\n  }\n  galleriesNew.create = createGallery;\n}\n\nGalleriesIndexController.$inject = ['Gallery'];\nfunction GalleriesIndexController(Gallery) {\n  const galleriesIndex = this;\n  galleriesIndex.all = Gallery.query();\n}\n\nGalleriesShowController.$inject = ['Gallery', '$state', '$auth'];\nfunction GalleriesShowController(Gallery, $state, $auth) {\n  const galleriesShow = this;\n\n  galleriesShow.gallery = Gallery.get($state.params);\n\n  function deleteGallery() {\n    galleriesShow.gallery.$remove(() => {\n      $state.go('galleriesIndex');\n    });\n  }\n  galleriesShow.deleteGallery = deleteGallery;\n}\n\n\nGalleriesEditController.$inject = ['Gallery', '$state', '$auth'];\nfunction GalleriesEditController(Gallery, $state, $auth) {\n  const galleriesEdit = this;\n  galleriesEdit.gallery = Gallery.get($state.params);\n  // Gallery.get($state.params, (currentGallery) => {\n  //   galleriesEdit.gallery = currentGallery;\n  //   if(galleriesEdit.gallery.id !== $auth.getPayload().id) {\n  //     $state.go('login');\n  //   }\n  // });\n\n\n  function update() {\n    galleriesEdit.gallery.$update(() => {\n      $state.go('galleriesShow', $state.params);\n    });\n  }\n  galleriesEdit.update = update;\n}\n","angular.module('artHub')\n.factory('Gallery', Gallery);\n\nGallery.$inject = ['$resource', 'API_URL'];\nfunction Gallery($resource, API_URL) {\n  return new $resource(`${API_URL}/galleries/:id`, { id: '@id' }, {\n    update: { method: 'PUT' }\n  });\n}\n","angular.module('artHub')\n.controller('MainController', MainController);\n\nMainController.$inject = ['$auth', '$state', '$rootScope'];\nfunction MainController($auth, $state, $rootScope) {\n  const main = this;\n\n  main.isLoggedIn = $auth.isAuthenticated;\n  main.message = null;\n\n\n  function logout() {\n    $auth.logout()\n    .then(() => {\n      $state.go('usersIndex');\n    });\n  }\n\n  const protectedStates = ['usersEdit'];\n\n  function protectStates(e, toState) {\n    const payload = $auth.getPayload();\n    if(payload) {\n      main.isCurrentUser = $auth.getPayload().id;\n    }\n    if(!$auth.isAuthenticated() && protectedStates.includes(toState.name)) {\n      e.preventDefault();\n      $state.go('login');\n    }\n  }\n\n  $rootScope.$on('$stateChangeStart', protectStates);\n\n  main.logout = logout;\n}\n","angular.module('artHub')\n.factory('Review', Review);\n\nReview.$inject = ['$resource', 'API_URL'];\nfunction Review($resource, API_URL) {\n  return new $resource(`${API_URL}/reviews/:id`, { id: '@id' }, {\n    update: { method: 'PUT' }\n  });\n}\n","angular.module('artHub')\n.controller('ReviewsNewController', ReviewsNewController)\n.controller('ReviewsIndexController', ReviewsIndexController)\n.controller('ReviewsShowController', ReviewsShowController)\n.controller('ReviewsEditController', ReviewsEditController);\n\n\nReviewsNewController.$inject = ['Review', 'Exhibition', '$state', '$auth'];\nfunction ReviewsNewController(Review, Exhibition, $state, $auth) {\n  const reviewsNew = this;\n  reviewsNew.review = {};\n  reviewsNew.review.user_id = $auth.getPayload().id;\n  reviewsNew.review.exhibition_id = $state.params.id;\n  reviewsNew.exhibitionsAll = Exhibition.query();\n\n  function createReview() {\n    Review.save(reviewsNew.review, () => {\n      $state.go('reviewsIndex');\n    });\n  }\n  reviewsNew.create = createReview;\n}\n\nReviewsIndexController.$inject = ['Review'];\nfunction ReviewsIndexController(Review) {\n  const reviewsIndex = this;\n  reviewsIndex.all = Review.query();\n}\n\nReviewsShowController.$inject = ['Review', '$state', '$auth'];\nfunction ReviewsShowController(Review, $state, $auth) {\n  const reviewsShow = this;\n\n  reviewsShow.review = Review.get($state.params);\n\n  function deleteReview() {\n    reviewsShow.review.$remove(() => {\n      $state.go('reviewsIndex');\n    });\n  }\n  reviewsShow.deleteReview = deleteReview;\n}\n\n\nReviewsEditController.$inject = ['Review', 'Exhibition', '$state', '$auth'];\nfunction ReviewsEditController(Review, Exhibition, $state, $auth) {\n  const reviewsEdit = this;\n  reviewsEdit.review = Review.get($state.params);\n  // reviewsEdit.review.user_id = $auth.getPayload().id;\n  // reviewsEdit.review.exhibition_id = $state.params.id;\n  reviewsEdit.exhibitionsAll = Exhibition.query();\n\n  // Review.get($state.params, (currentReview) => {\n  //   reviewsEdit.review = currentReview;\n  //   if(reviewsEdit.review.id !== $auth.getPayload().id) {\n  //     $state.go('login');\n  //   }\n  // });\n\n\n  function update() {\n    reviewsEdit.review.$update(() => {\n      $state.go('reviewsShow', $state.params);\n    });\n  }\n  reviewsEdit.update = update;\n}\n","angular.module('artHub')\n.config(Router);\n\nRouter.$inject = ['$stateProvider', '$urlRouterProvider'];\nfunction Router($stateProvider, $urlRouterProvider) {\n  $stateProvider\n  .state('home', {\n    url: '/',\n    templateUrl: '/templates/home.html'\n  })\n  .state('usersIndex', {\n    url: '/users',\n    templateUrl: '/templates/users/usersIndex.html',\n    controller: 'UsersIndexController as usersIndex'\n  })\n  .state('usersShow', {\n    url: '/users/:id',\n    templateUrl: '/templates/users/usersShow.html',\n    controller: 'UsersShowController as usersShow'\n  })\n  .state('usersEdit', {\n    url: '/users/:id/edit',\n    templateUrl: '/templates/users/usersEdit.html',\n    controller: 'UsersEditController as usersEdit'\n  })\n  .state('galleriesNew', {\n    url: '/galleries/new',\n    templateUrl: '/templates/galleries/galleriesNew.html',\n    controller: 'GalleriesNewController as galleriesNew'\n  })\n  .state('galleriesIndex', {\n    url: '/galleries',\n    templateUrl: '/templates/galleries/galleriesIndex.html',\n    controller: 'GalleriesIndexController as galleriesIndex'\n  })\n  .state('galleriesShow', {\n    url: '/galleries/:id',\n    templateUrl: '/templates/galleries/galleriesShow.html',\n    controller: 'GalleriesShowController as galleriesShow'\n  })\n  .state('galleriesEdit', {\n    url: '/galleries/:id/edit',\n    templateUrl: '/templates/galleries/galleriesEdit.html',\n    controller: 'GalleriesEditController as galleriesEdit'\n  })\n  .state('exhibitionsNew', {\n    url: '/exhibitions/new',\n    templateUrl: '/templates/exhibitions/exhibitionsNew.html',\n    controller: 'ExhibitionsNewController as exhibitionsNew'\n  })\n  .state('exhibitionsIndex', {\n    url: '/exhibitions',\n    templateUrl: '/templates/exhibitions/exhibitionsIndex.html',\n    controller: 'ExhibitionsIndexController as exhibitionsIndex'\n  })\n  .state('exhibitionsShow', {\n    url: '/exhibitions/:id',\n    templateUrl: '/templates/exhibitions/exhibitionsShow.html'\n  })\n  .state('exhibitionsEdit', {\n    url: '/exhibitions/:id/edit',\n    templateUrl: '/templates/exhibitions/exhibitionsEdit.html',\n    controller: 'ExhibitionsEditController as exhibitionsEdit'\n  })\n  .state('reviewsNew', {\n    url: '/reviews/new',\n    templateUrl: '/templates/reviews/reviewsNew.html',\n    controller: 'ReviewsNewController as reviewsNew'\n  })\n  .state('reviewsIndex', {\n    url: '/reviews',\n    templateUrl: '/templates/reviews/reviewsIndex.html',\n    controller: 'ReviewsIndexController as reviewsIndex'\n  })\n  .state('reviewsShow', {\n    url: '/reviews/:id',\n    templateUrl: '/templates/reviews/reviewsShow.html',\n    controller: 'ReviewsShowController as reviewsShow'\n  })\n  .state('reviewsEdit', {\n    url: '/reviews/:id/edit',\n    templateUrl: '/templates/reviews/reviewsEdit.html',\n    controller: 'ReviewsEditController as reviewsEdit'\n  })\n  .state('register', {\n    url: '/register',\n    templateUrl: '/templates/register.html',\n    controller: 'RegisterController as register'\n  })\n  .state('login', {\n    url: '/login',\n    templateUrl: 'templates/login.html',\n    controller: 'LoginController as login'\n  });\n\n  $urlRouterProvider.otherwise('/');\n}\n","angular.module('artHub')\n.factory('User', User);\n\nUser.$inject = ['$resource', 'API_URL'];\nfunction User($resource, API_URL) {\n  return new $resource(`${API_URL}/users/:id`, { id: '@id' }, {\n    update: { method: 'PUT' }\n  });\n}\n","angular.module('artHub')\n.controller('UsersIndexController', UsersIndexController)\n.controller('UsersShowController', UsersShowController)\n.controller('UsersEditController', UsersEditController);\n\n\nUsersIndexController.$inject = ['User'];\nfunction UsersIndexController(User) {\n  const usersIndex = this;\n  usersIndex.all = User.query();\n}\n\n\nUsersShowController.$inject = ['User', '$state', '$auth'];\nfunction UsersShowController(User, $state, $auth) {\n  const usersShow = this;\n  usersShow.isLoggedIn = $auth.isAuthenticated;\n  usersShow.user = User.get($state.params);\n\n  function deleteUser() {\n    usersShow.user.$remove(() => {\n      $state.go('usersIndex');\n    });\n  }\n\n  function isCurrentUser() {\n    return $auth.getPayload().id === Number($state.params.id);\n  }\n\n  usersShow.isCurrentUser = isCurrentUser;\n  usersShow.deleteUser = deleteUser;\n}\n\n\nUsersEditController.$inject = ['User', '$state', '$auth'];\nfunction UsersEditController(User, $state, $auth) {\n  const usersEdit = this;\n  usersEdit.user = User.get($state.params);\n  User.get($state.params, (currentUser) => {\n    usersEdit.user = currentUser;\n    if(usersEdit.user.id !== $auth.getPayload().id) {\n      $state.go('login');\n    }\n  });\n\n\n  function update() {\n    usersEdit.user.$update(() => {\n      $state.go('usersShow', $state.params);\n    });\n  }\n  usersEdit.update = update;\n}\n"]}